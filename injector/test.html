<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>DOM Change Test</title>

  <script src="injector.js"></script>
  <!--<script src="content-injectordemo.js"></script>-->
  <script src="https://devstore.copyraptor.com.s3.amazonaws.com/injectordemo"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      var nextId = 1;
      document.querySelector("#button2").addEventListener("click", function() {
        var newP = document.createElement('p');
        newP.innerHTML = "dynamically created placeholder content";
        document.querySelector("#reference").appendChild(newP);

        newP = newP.cloneNode(true);
        newP.setAttribute("id", "p-" + nextId);
        nextId++;
        console.log(newP);
        document.querySelector("#content").appendChild(newP);
      });
    });
  </script>
</head>
<body>
<p>Left col is identical to the right col, except copy raptor is only updating nodes on the left. The right is just for reference.</p>
  <div id="content" style="width: 30%; border: 1px solid gray; float: left; margin: 30px; padding: 5px">
    <p id="text">Place holder text, that will change</p>
    <p id="yamum">Other text, that won't change</p>
  </div>

  <div id="reference" style="width: 30%; border: 1px solid gray; float: left; margin: 30px; padding: 5px">
    <p>Place holder text, that will change</p>
    <p>Other text, that won't change</p>
  </div>

  <div style="clear: both"></div>
  <button id="button2">Do DOM mutation</button>
</body>
</html>
